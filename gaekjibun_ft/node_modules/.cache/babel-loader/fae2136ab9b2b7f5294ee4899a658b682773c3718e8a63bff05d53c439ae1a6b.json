{"ast":null,"code":"import{Link,useNavigate}from\"react-router-dom\";import{useState}from\"react\";import{get,useForm}from\"react-hook-form\";import InputError from\"./InputError\";import{postRegister}from\"../apis/getUserAPI\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterUser(){return/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 p-10 flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4 w-96 p-5\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\" text-3xl mb-6 font-semibold\",children:[\"Welcome to \",/*#__PURE__*/_jsx(\"br\",{}),\" \\uB0C9\\uC7A5\\uACE0\\uB97C \\uBD80\\uD0C1\\uD574!\"]}),/*#__PURE__*/_jsx(SignUpBox,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border rounded h-20 p-4 text-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"You have account?\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"h-10 rounded ml-1 text-blue-600\",children:\"\\u27A1\\uFE0F Sign in\"})]})]})})});}function SignUpBox(){var _errors$email,_errors$password,_errors$pwConfirm,_errors$Username,_errors$extraError;const navigate=useNavigate();const{register,formState:{errors},setError,handleSubmit}=useForm();async function onSubmit(data){try{const response=await postRegister(data);if(response.status===200){navigate(\"/login\");}}catch(error){const errorCode=error.code;const errorMessage=error.message;console.error(\"Authentication error:\",errorCode,errorMessage);setError(\"extraError\",{message:\"회원가입에 실패하였습니다\"});}}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"flex flex-col gap-3 bg-gray-200 p-4 border rounded-lg border-gray-300 font-semibold\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border rounded-lg border-gray-300 p-2 h-10\",...register(\"email\",{required:\"이메일을 입력해주세요.\",pattern:{value:/^\\S+@\\S+$/i,message:\"이메일을 올바르게 입력해주세요\"}})}),/*#__PURE__*/_jsx(InputError,{ErrorMessage:errors===null||errors===void 0?void 0:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"border rounded-lg border-gray-300 p-2 h-10\",...register(\"password\",{required:\"비밀번호를 입력해주세요.\",minLength:{value:6,message:\"비밀번호는 6글자 이상, 20자 이하로 입력해 주세요.\"},maxLength:{value:20,message:\"비밀번호는 6글자 이상, 20자 이하로 입력해 주세요.\"}})}),/*#__PURE__*/_jsx(InputError,{ErrorMessage:errors===null||errors===void 0?void 0:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Confirm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"border rounded-lg border-gray-300 p-2 h-10\",...register(\"pwConfirm\",{required:\"비밀번호를 입력해주세요.\",minLength:{value:6,message:\"비밀번호는 6글자 이상, 20자 이하로 입력해 주세요.\"}})}),/*#__PURE__*/_jsx(InputError,{ErrorMessage:errors===null||errors===void 0?void 0:(_errors$pwConfirm=errors.pwConfirm)===null||_errors$pwConfirm===void 0?void 0:_errors$pwConfirm.message}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border rounded-lg border-gray-300 p-2 h-10\",...register(\"Username\",{required:\"Username을 입력해주세요.\",minLength:{value:2,message:\"Username은 2글자 이상 10글자 이하입니다.\"},maxLength:{value:10,message:\"Username은 3글자 이상 10글자 이하입니다.\"},pattern:{value:/^[A-za-z0-9가-힣]{3,10}$/,message:\"Username은 영문 대소문자, 글자 단위 한글, 숫자만 가능합니다.\"}})}),/*#__PURE__*/_jsx(InputError,{ErrorMessage:errors===null||errors===void 0?void 0:(_errors$Username=errors.Username)===null||_errors$Username===void 0?void 0:_errors$Username.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-800 text-base font-semibold hover:bg-green-600 h-10 border border-bg-green-950 rounded text-white\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsx(InputError,{ErrorMessage:errors===null||errors===void 0?void 0:(_errors$extraError=errors.extraError)===null||_errors$extraError===void 0?void 0:_errors$extraError.message})]})]});}export default RegisterUser;","map":{"version":3,"names":["Link","useNavigate","useState","get","useForm","InputError","postRegister","jsx","_jsx","jsxs","_jsxs","RegisterUser","className","children","SignUpBox","to","_errors$email","_errors$password","_errors$pwConfirm","_errors$Username","_errors$extraError","navigate","register","formState","errors","setError","handleSubmit","onSubmit","data","response","status","error","errorCode","code","errorMessage","message","console","required","pattern","value","ErrorMessage","email","type","minLength","maxLength","password","pwConfirm","Username","extraError"],"sources":["/Users/dusehd1/KMU/3-1/gjb_ft/front/src/pages/RegisterUser.js"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { get, useForm } from \"react-hook-form\";\nimport InputError from \"./InputError\";\nimport { postRegister } from \"../apis/getUserAPI\";\n\nfunction RegisterUser() {\n  return (\n    <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\n      <div className=\"mt-10 p-10 flex justify-center\">\n        <div className=\"flex flex-col gap-4 w-96 p-5\">\n          <h3 className=\" text-3xl mb-6 font-semibold\">\n            Welcome to <br /> 냉장고를 부탁해!\n          </h3>\n          <SignUpBox />\n\n          <div className=\"bg-white border rounded h-20 p-4 text-center\">\n            <span>You have account?</span>\n            <br />\n            <Link to=\"/login\" className=\"h-10 rounded ml-1 text-blue-600\">\n              ➡️ Sign in\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SignUpBox() {\n  const navigate = useNavigate();\n\n  const {\n    register,\n    formState: { errors },\n    setError,\n    handleSubmit,\n  } = useForm();\n\n  async function onSubmit(data) {\n    try {\n      const response = await postRegister(data);\n\n      if (response.status === 200) {\n        navigate(\"/login\");\n      }\n    } catch (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.error(\"Authentication error:\", errorCode, errorMessage);\n      setError(\"extraError\", { message: \"회원가입에 실패하였습니다\" });\n    }\n  }\n\n  return (\n    <form\n      onSubmit={handleSubmit(onSubmit)}\n      className=\"flex flex-col gap-3 bg-gray-200 p-4 border rounded-lg border-gray-300 font-semibold\"\n    >\n      <div className=\"flex flex-col \">\n        <span>Email</span>\n        <input\n          className=\"border rounded-lg border-gray-300 p-2 h-10\"\n          {...register(\"email\", {\n            required: \"이메일을 입력해주세요.\",\n            pattern: {\n              value: /^\\S+@\\S+$/i,\n              message: \"이메일을 올바르게 입력해주세요\",\n            },\n          })}\n        />\n        <InputError ErrorMessage={errors?.email?.message} />\n      </div>\n\n      <div className=\"flex flex-col\">\n        <span>Password</span>\n        <input\n          type=\"password\"\n          className=\"border rounded-lg border-gray-300 p-2 h-10\"\n          {...register(\"password\", {\n            required: \"비밀번호를 입력해주세요.\",\n            minLength: {\n              value: 6,\n              message: \"비밀번호는 6글자 이상, 20자 이하로 입력해 주세요.\",\n            },\n            maxLength: {\n              value: 20,\n              message: \"비밀번호는 6글자 이상, 20자 이하로 입력해 주세요.\",\n            },\n          })}\n        />\n        <InputError ErrorMessage={errors?.password?.message} />{\" \"}\n      </div>\n\n      <div className=\"flex flex-col\">\n        <span>Confirm</span>\n        <input\n          type=\"password\"\n          className=\"border rounded-lg border-gray-300 p-2 h-10\"\n          {...register(\"pwConfirm\", {\n            required: \"비밀번호를 입력해주세요.\",\n            minLength: {\n              value: 6,\n              message: \"비밀번호는 6글자 이상, 20자 이하로 입력해 주세요.\",\n            },\n          })}\n        />\n        <InputError ErrorMessage={errors?.pwConfirm?.message} />{\" \"}\n      </div>\n\n      <div className=\"flex flex-col \">\n        <span>Username</span>\n        <input\n          className=\"border rounded-lg border-gray-300 p-2 h-10\"\n          {...register(\"Username\", {\n            required: \"Username을 입력해주세요.\",\n            minLength: {\n              value: 2,\n              message: \"Username은 2글자 이상 10글자 이하입니다.\",\n            },\n            maxLength: {\n              value: 10,\n              message: \"Username은 3글자 이상 10글자 이하입니다.\",\n            },\n            pattern: {\n              value: /^[A-za-z0-9가-힣]{3,10}$/,\n              message:\n                \"Username은 영문 대소문자, 글자 단위 한글, 숫자만 가능합니다.\",\n            },\n          })}\n        />\n        <InputError ErrorMessage={errors?.Username?.message} />\n      </div>\n      <div className=\"flex flex-col gap-4 mt-4\">\n        <button\n          type=\"submit\"\n          className=\"bg-green-800 text-base font-semibold hover:bg-green-600 h-10 border border-bg-green-950 rounded text-white\"\n        >\n          회원가입\n        </button>\n        <InputError ErrorMessage={errors?.extraError?.message} />\n      </div>\n    </form>\n  );\n}\n\nexport default RegisterUser;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}