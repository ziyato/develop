{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import\"./RecipePage.css\";import{postRecipe}from\"../apis/getFoodAPI\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const RecipePage=_ref=>{let{location,recipeFood}=_ref;const{state}=location||{};const{selectedItems}=state||{};const[recipeData,setRecipeData]=useState([]);const recipeBoxRef=useRef(null);const handleCopy=()=>{if(recipeBoxRef.current){const range=document.createRange();range.selectNodeContents(recipeBoxRef.current);const selection=window.getSelection();selection.removeAllRanges();selection.addRange(range);document.execCommand(\"copy\");alert(\"레시피 내용이 복사되었습니다!\");}};async function getRecipeData(foods){try{console.log(foods);const result=await postRecipe(foods);console.log(result);return result;}catch(error){console.log(error);}}useEffect(()=>{console.log(recipeFood);if(!recipeFood){setRecipeData(\"음식을 선택하고 레시피 검색 버튼을 눌러주세요.\");}else{setRecipeData(\"레시피를 불러오는 중입니다...\");getRecipeData(recipeFood).then(data=>{setRecipeData(data);});}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"RecipePage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"RecipeHeader\",children:recipeFood&&recipeFood.length>0&&/*#__PURE__*/_jsxs(\"h2\",{children:[\" \",recipeFood.join(\", \"),\"\\uC744 \\uC774\\uC6A9\\uD55C \\uB808\\uC2DC\\uD53C\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"RecipeBox\",ref:recipeBoxRef,children:/*#__PURE__*/_jsx(\"textarea\",{className:\" w-full h-full\",value:recipeData,readOnly:true})}),/*#__PURE__*/_jsx(\"button\",{className:\"copyButton\",onClick:handleCopy,children:\"\\uBCF5\\uC0AC\"}),/*#__PURE__*/_jsx(\"ul\",{children:selectedItems&&selectedItems.map((itemName,index)=>/*#__PURE__*/_jsx(\"li\",{children:itemName},index))})]});};export default RecipePage;","map":{"version":3,"names":["React","useEffect","useRef","useState","postRecipe","jsxs","_jsxs","jsx","_jsx","RecipePage","_ref","location","recipeFood","state","selectedItems","recipeData","setRecipeData","recipeBoxRef","handleCopy","current","range","document","createRange","selectNodeContents","selection","window","getSelection","removeAllRanges","addRange","execCommand","alert","getRecipeData","foods","console","log","result","error","then","data","className","children","length","join","ref","value","readOnly","onClick","map","itemName","index"],"sources":["/Users/dusehd1/KMU/3-1/gjb_ft/front/src/pages/RecipePage.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport \"./RecipePage.css\";\nimport { postRecipe } from \"../apis/getFoodAPI\";\n\nconst RecipePage = ({ location, recipeFood }) => {\n  const { state } = location || {};\n  const { selectedItems } = state || {};\n  const [recipeData, setRecipeData] = useState([]);\n\n  const recipeBoxRef = useRef(null);\n\n  const handleCopy = () => {\n    if (recipeBoxRef.current) {\n      const range = document.createRange();\n      range.selectNodeContents(recipeBoxRef.current);\n      const selection = window.getSelection();\n      selection.removeAllRanges();\n      selection.addRange(range);\n      document.execCommand(\"copy\");\n      alert(\"레시피 내용이 복사되었습니다!\");\n    }\n  };\n  async function getRecipeData(foods) {\n    try {\n      console.log(foods)\n      const result = await postRecipe(foods);\n      console.log(result);\n      return result;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  useEffect(() => {\n    console.log(recipeFood);\n    if (!recipeFood) {\n      setRecipeData(\"음식을 선택하고 레시피 검색 버튼을 눌러주세요.\");\n    } else {\n      setRecipeData(\"레시피를 불러오는 중입니다...\");\n      getRecipeData(recipeFood).then((data) => {\n        setRecipeData(data);\n      });\n    }\n  }, []);\n\n  return (\n    <div className=\"RecipePage\">\n      <div className=\"RecipeHeader\">\n        {recipeFood && recipeFood.length > 0 && (\n          <h2> {recipeFood.join(\", \")}을 이용한 레시피</h2>\n        )}\n      </div>\n      <div className=\"RecipeBox\" ref={recipeBoxRef}>\n        <textarea\n          className=\" w-full h-full\"\n          value={recipeData}\n          readOnly\n          />\n      </div>\n      <button className=\"copyButton\" onClick={handleCopy}>\n        복사\n      </button>\n      <ul>\n        {selectedItems &&\n          selectedItems.map((itemName, index) => (\n            <li key={index}>{itemName}</li>\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default RecipePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}