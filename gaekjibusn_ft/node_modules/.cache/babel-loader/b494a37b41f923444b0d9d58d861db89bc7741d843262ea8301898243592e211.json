{"ast":null,"code":"import{Link,redirect,useNavigate}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import InputError from\"./InputError\";import{getLogin}from\"../apis/getUserAPI\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){return/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 p-10 flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4 w-96 p-5\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\" text-3xl mb-6 font-semibold\",children:[\"Sign in to \",/*#__PURE__*/_jsx(\"br\",{}),\" \\uB0C9\\uC7A5\\uACE0\\uB97C \\uBD80\\uD0C1\\uD574\"]}),/*#__PURE__*/_jsx(LoginBox,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border rounded h-20 p-4 text-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"New to \\uB0C9\\uC7A5\\uACE0\\uB97C \\uBD80\\uD0C1\\uD574?\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"h-10 rounded ml-1 text-blue-600\",children:\"\\u27A1\\uFE0F \\uD68C\\uC6D0\\uAC00\\uC785\\uD558\\uAE30\"})]})]})})});}function LoginBox(){var _errors$email,_errors$password,_errors$extraError;const navigate=useNavigate();const{register,formState:{errors},setError,handleSubmit}=useForm();async function onSubmit(data){try{const result=await getLogin(data.email,data.password);window.location.href=\"/\";return result;}catch(error){const errorCode=error.code;const errorMessage=error.message;console.error(\"Authentication error:\",errorCode,errorMessage);setError(\"extraError\",{message:\"계정이 일치하지 않습니다.\"});}}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"flex flex-col gap-3 bg-gray-200 p-4 border rounded-lg border-gray-300 font-semibold\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border rounded-lg border-gray-300 p-2 h-10\",...register(\"email\",{required:\"이메일을 입력해주세요.\",pattern:{value:/^\\S+@\\S+$/i,message:\"이메일을 올바르게 입력해주세요\"}})}),/*#__PURE__*/_jsx(InputError,{ErrorMessage:errors===null||errors===void 0?void 0:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"a\",{className:\"text-blue-600 hover:decoration-solid text-sm mt-1\",href:\"/changePW\",children:\"Forget Password?\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"border rounded-lg border-gray-300 p-2 h-10\",...register(\"password\",{required:\"비밀번호를 입력해주세요.\",minLength:{value:6,message:\"비밀번호는 6글자 이상, 20자 이하입니다.\"},maxLength:{value:20,message:\"비밀번호는 6글자 이상, 20자 이하입니다.\"}})}),/*#__PURE__*/_jsx(InputError,{ErrorMessage:errors===null||errors===void 0?void 0:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-800 text-base font-semibold hover:bg-green-600 h-10 border border-bg-green-950 rounded text-white\",children:\"Login\"}),/*#__PURE__*/_jsx(InputError,{ErrorMessage:errors===null||errors===void 0?void 0:(_errors$extraError=errors.extraError)===null||_errors$extraError===void 0?void 0:_errors$extraError.message})]})]});}export default Login;","map":{"version":3,"names":["Link","redirect","useNavigate","useForm","InputError","getLogin","jsx","_jsx","jsxs","_jsxs","Login","className","children","LoginBox","to","_errors$email","_errors$password","_errors$extraError","navigate","register","formState","errors","setError","handleSubmit","onSubmit","data","result","email","password","window","location","href","error","errorCode","code","errorMessage","message","console","required","pattern","value","ErrorMessage","type","minLength","maxLength","extraError"],"sources":["/Users/dusehd1/KMU/3-1/gjb_ft/front/src/pages/Login.js"],"sourcesContent":["import { Link, redirect, useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport InputError from \"./InputError\";\nimport { getLogin } from \"../apis/getUserAPI\";\n\nfunction Login() {\n  return (\n    <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\n      <div className=\"mt-10 p-10 flex justify-center\">\n        <div className=\"flex flex-col gap-4 w-96 p-5\">\n          <h3 className=\" text-3xl mb-6 font-semibold\">\n            Sign in to <br /> 냉장고를 부탁해\n          </h3>\n          <LoginBox />\n          <div className=\"bg-white border rounded h-20 p-4 text-center\">\n            <span>New to 냉장고를 부탁해?</span>\n            <br />\n            <Link to=\"/signup\" className=\"h-10 rounded ml-1 text-blue-600\">\n              ➡️ 회원가입하기\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction LoginBox() {\n  const navigate = useNavigate();\n  const {\n    register,\n    formState: { errors },\n    setError,\n    handleSubmit,\n  } = useForm();\n\n  async function onSubmit(data) {\n    try {\n      const result = await getLogin(data.email, data.password);\n      window.location.href = \"/\";\n      return result;\n    } catch (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.error(\"Authentication error:\", errorCode, errorMessage);\n      setError(\"extraError\", { message: \"계정이 일치하지 않습니다.\" });\n    }\n  }\n\n  return (\n    <form\n      onSubmit={handleSubmit(onSubmit)}\n      className=\"flex flex-col gap-3 bg-gray-200 p-4 border rounded-lg border-gray-300 font-semibold\"\n    >\n      <div className=\"flex flex-col \">\n        <span>Email</span>\n        <input\n          className=\"border rounded-lg border-gray-300 p-2 h-10\"\n          {...register(\"email\", {\n            required: \"이메일을 입력해주세요.\",\n            pattern: {\n              value: /^\\S+@\\S+$/i,\n              message: \"이메일을 올바르게 입력해주세요\",\n            },\n          })}\n        />\n        <InputError ErrorMessage={errors?.email?.message} />\n      </div>\n\n      <div className=\"flex flex-col\">\n        <div className=\"flex justify-between\">\n          <span>Password</span>\n          <a\n            className=\"text-blue-600 hover:decoration-solid text-sm mt-1\"\n            href=\"/changePW\"\n          >\n            Forget Password?\n          </a>\n        </div>\n        <input\n          type=\"password\"\n          className=\"border rounded-lg border-gray-300 p-2 h-10\"\n          {...register(\"password\", {\n            required: \"비밀번호를 입력해주세요.\",\n            minLength: {\n              value: 6,\n              message: \"비밀번호는 6글자 이상, 20자 이하입니다.\",\n            },\n            maxLength: {\n              value: 20,\n              message: \"비밀번호는 6글자 이상, 20자 이하입니다.\",\n            },\n          })}\n        />\n        <InputError ErrorMessage={errors?.password?.message} />{\" \"}\n      </div>\n      <div className=\"flex flex-col gap-4 mt-4\">\n        <button\n          type=\"submit\"\n          className=\"bg-green-800 text-base font-semibold hover:bg-green-600 h-10 border border-bg-green-950 rounded text-white\"\n        >\n          Login\n        </button>\n        <InputError ErrorMessage={errors?.extraError?.message} />\n      </div>\n    </form>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}